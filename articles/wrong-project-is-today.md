---
title: "「全く違うことをやってる」案件の締め切りはだいたい「今日」"
emoji: "🤷‍♂️"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["インターン", "失敗談"]
published: false
---

# インターン中に起きた事件
これは大学生の私がエンジニアとしてインターンシップに参加していたときに起こった出来事です。大変だった思い出は人に話してこそ元が取れるものです。どうぞお付き合いください。

# 何が起きたか
## 登場人物
- 私(インターン生)
- A君(インターン生)
- 社員さん

## 事件の始まり
では何が起きたのかを話していきます。
ことの始まりは事件発覚から約1週間前です。

エンジニアとしてとあるベンチャー企業の長期インターンに参加している私はいつものように業務を開始しました。たいてい業務開始時間に、社員さんからその日やって欲しいことを伝えられます。この日も今日の仕事内容を伝えられました。

👨🏻‍💼 社員「XXXという案件があって、そのために今A君がYYYをやっている。'私'君にはA君が作業している内容の続きをやって欲しい」

🧑‍💻 私「かしこまりました」

👨🏻‍💼 社員「あ、これが案件の内容XXXで、これがA君がやってる開発YYYね、Slackの会話記録も含めて確認よろしく」

🧑‍💻 私「かしこまりました (どれどれ、何をすればいいのかな)」

社員さんにもらった言われた内容を確認すると、案件の内容とA君がやっていた作業は以下の通りでした。

### 案件概要
- 今度うちの会社が、お客さんのLaravelで作られてるアプリケーションのテスト自動化をお手伝いする
- サンプルとして、簡単なLaravelアプリケーションとテストコードを作って欲しい
  
### A君がやっていた作業
- Laravelの簡単なチュートリアルサイトを真似したTODOアプリの作成


🧑‍💻 私「(なるほど、このTODOアプリをささっと作っちゃえばいいのか、余裕余裕！)」

私はこの会社でのインターンに参加する前に、1年半ほど別の会社でWebアプリ開発を行っていたので、こんな仕事余裕だと思っていました。むしろ、前の会社でやってきたことの経験が活かせそうな仕事が舞い込んできてラッキーくらいに思っていました。この記事を読んでいるあなたがバリバリエンジニアならもう話のオチは想像ついたかもしれません。これから事件が発覚します。

## 事件発覚当日
案件の開始から1週間弱が経ち、私は順調にTODOアプリの作成を進めていました。Dockerでの環境構築や初めてのLaravelに多少は戸惑いはしたものも、私は1年半もWebエンジニアをやってたんだから舐めんなよメンタルでぐんぐんと開発を進めていました。

そしてそんな中、今日も元気に開発を進めようと業務を進めようと業務を開始しました。そのとき、社員さんからメッセージが届きました。

👨🏻‍💼 社員「'私'君、API側の開発は終わった？今日中にAPI側のテストコードを書いて欲しいんだけど」

🧑‍💻 私「え？API側ってなんのことですか？(我作りしはチュートリアルTODOアプリぞ？APIなんてないぞ？？？)」

👨🏻‍💼 社員「え？A君、Laravelのテストコードをどうやって書くつもりだったの？(A君メンション)」

🙍🏽 A君「テストはブラウザ上で動作確認したり、ターミナルでMySQLコマンドを叩いてDBの状態を確認したりして行うつもりでした」

👨🏻‍💼 社員「それはLaravelのテストではないですね、、、今回の案件はTODOアプリではなく、テストコードを作成するのが目的ですのでそれを見失わないようにしましょう」

ここで、私は全てを悟りました。やばい、、、
リモートワークなのでいつもは正直ギリギリに起きてベッドでメッセージを確認してから作業に取り掛かるのですが、その日は気づいたら机についてました(笑)。大量の冷や汗をかきながら。

これまでの私の説明では伝わりにくいと思うので、何が起こっているのかを整理します。

1. 元々の案件は、テストコードの作成が目的、そのためにLaravelアプリケーションも作る
2. 社員さんがA君にその案件を依頼する
3. A君は、そもそも「PHPのテスト = UnitテストやFeatureテスト」というのを知らず、「テスト = 一般的な動作確認」と認識
4. A君は簡単なLaravelアプリ(TODOアプリ)を作って動作確認をすれば良いと認識
5. その仕事を私が、引き継ぐ
6. 私は**案件のオリジンをろくに確認せずTODOアプリを作ればいいんだと認識**

このようなことが起こってしまいました。
ここから先を読んでいただく皆様に絶対伝えておきたいことなのですが、この記事は**A君に対して問題を指摘する意図は0.00000001%もない**ということです！そもそもA君はPHPフレームワーク開発の経験などもないですし、おそらく開発経験が長いわけでもありません。この記事は**私の失態への戒め**ですので、そこだけはお間違えのないようにお願いいたします。

話は戻ります。私はとりあえず焦りました。社員さん曰く、**今日中にUnitテストかFeatureテストの少なくとも1つは完成させて欲しい**とのことです。

## 戦いの1日が始まった

### ゴールの設定
まず、私はUnitテストのテストコードを今日中に仕上げることにしました。
前のインターン先での経験上、**Unitテストの方が簡単**だと思いました。

### 状況の把握
Unitテストのテストコードを書くにあたって、私は前のインターン先での経験から、あることを思い出しました。

Unitテストは書きやすい関数とそうでない関数がある

本来なら、初めから**テストコードが書きやすいようなアプリケーションを作成すべき**なのですが(多分社員さんがAPIと言ってたのはこのため)、今回作っているTODOアプリはそうでないことに気づきます。私は急いでTODOアプリのソースコードを読み返しました。すると恐ろしいことに気づきました。

**テストを書きやすい関数どころか、そもそも自作関数が一つもない**

正直、終わったかと思いました。リモートワークなので、このままSlackの通知を切ってインターンを飛んでやろうかと思いました(冗談です)。

### 解決方法を模索
まず、私は以下のように計画を立てました。

- とりあえず、TODOアプリの作成をチュートリアル通りに完成させる
- Unitテストを書くためのに、都合のいい関数を追加する必要があるので、都合のいい機能を追加する

なので、まずは爆速でチュートリアル通りのTODOアプリの開発を終わらせました。
しかし、爆速でTODOアプリの開発をしているときあることに気づきました。
このようなコードがあったのです。

```
$rules = [
    'task_name' => 'required|max:100',
];
 
$messages = ['required' => '必須項目です', 'max' => '100文字以下にしてください。'];
 
Validator::make($request->all(), $rules, $messages)->validate();
```

TODOタスク名をユーザから受け取ってDBに追加する前に、バリデートを行う処理なのですが、**これは使えるぞ**と思いました。LaravelのValidatorクラスに対して$ruleを指定してバリデートを行なっているのですが、

**ruleを使わず自作でバリデート関数を作ってあげればそれでテストコードが書ける！！！**

ということに気づきました。すぐさま私は機能追加の計画をキャンセルし、バリデートを行うメソッドを無理やり自作することにしました。

### 気をつけたこと
解決方法が決まり、あとはひたすらに開発を行なっていくだけです。実はこのTODOアプリはチュートリアルに従えば、TailwindCSSというユーティリティクラスを用いて、UIをきれいに作成しなければなりませんでした。初めてのLaravel、CSSのインポートがなかなかうまくいかず、ここで詰まりかけました。しかし私は次のことを思い出しました。

**テストコードの作成が最優先。他に時間を割く暇はない。**

そこで私はTailwindCSSの諦め、viewファイルのhtmlの<script>タグにベタ書きでCSSを書くことにしました(笑)。最悪の書き方ではありますが、私の最優先目標は超おしゃれなTODOアプリをつくりことでも、上手なLaravelの書き方を実践することでもありません。CSSの内容はChatGPTに「いい感じのデザインにして」と言えば、勝手にやってくれるのでそれを軽く手直しすればお客さんに見せられる程度のデザインにはなりました。(ありがとうChatGPT❤️)

※ TailwindCSSを使わなかった理由として、「Node.jsを使ったり、クライアントサイド用のサーバーとしてViteを使ったりすることで、デプロイが難しくなってしまうかもしれないから」というのもありました。

そのほかにも、チュートリアルにあった、タスクの削除機能や編集機能は全部カットしました。テストコードの作成に要らないので！

### そんなこんなで開発完了
なんとかその日のうちにUnitテストの実装まで終えることができました。インターンは14時までの予定でしたが、社員さんにお願いして18時半まで作業していました。

# 振り返り

## 反省点
### 引き継ぎには注意せよ
そもそも今回の事件の原因は、私が社員さんがやって欲しい内容と**全く違うことをやっていた**ということにあります。とはいえ、私もそれなりに実務経験があって、案件を頂いた時は認識のすり合わせはかなり大事だと知っており、不明点や不安点があれば必ず確認するようにしていました。ではなぜこのようなことが起こってしまったのでしょうか。それは今回の仕事が**人の仕事の引き継ぎ**だったからだと思います。私に誰かから仕事を引き継ぐ経験がなかったこともあり、案件に対して、途中から仕事を引き継ぐ時、**自分はこれさえやればいいのだ**とついついオリジンの案件の把握やこれまでのやりとりの内容の確認を疎かにしてしまいました。これが失敗の原因です。これからは教訓を大切にしたいと思います。

- **引き継ぎの仕事こそ、積極的にすり合わせを**
- **引き継ぎの仕事は、齟齬が生まれやすくなると思われがちだが、それは確認を怠るからであって、むしろ齟齬に気づきやすくなるチャンス**

### マネジメントはあまりうまくいかなかった
実は、問題が発覚したあと、社員さんに

- A君と協力して進めて欲しい
- 作業計画や割り振りは'私'君にお願いしたい

言われていました。マネジメントの勉強にもなるからと貴重な機会を頂いたのですが、あまりうまくA君に仕事を割り当てることができなかったように感じます。私は、**2人ともLaravelの経験が浅いから下手に分担するよりペアプロで作業を進めた方が良い**と考えて、初め、ペアプロで作業を進めていたのですが、思ったよりもペアプロによる相乗効果が得られませんでした。より良い作業分担やペアプロのやり方ができていたら、もっといい結果にできたのかなと思っています。これに関してはまたまだ勉強が必要です。

## よかった点
逆に、問題が発覚してからの私の対応として、よかったと思える点は以下です。

- 最小限の計画変更で目標を達成した(新しいアプリを作る、機能をつけるということをしなかった)
- 計画の修正をうまく行えた(機能追加の予定から、自作バリデートに気付けてすぐ修正できた)
- 目的にとって本当に必要なことを取捨選択できた(CSSの件、不要な機能の削除)

ここら辺は、大学のアジャイル開発の授業の経験が役に立ったと思います。
その内容も[こちら](#)にまとめておりますので、ぜひ読んでいただけると嬉しいです。

# Thanks
そんなわけで、私のインターン失敗談でした。
最後まで読んでくださりありがとうございました。
